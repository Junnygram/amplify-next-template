## AWS Amplify Next.js (App Router) Starter Template

This repository provides a starter template for creating applications using Next.js (App Router) and AWS Amplify, emphasizing easy setup for authentication, API, and database capabilities.

## Overview

This template equips you with a foundational Next.js application integrated with AWS Amplify, streamlined for scalability and performance. It is ideal for developers looking to jumpstart their project with pre-configured AWS services like Cognito, AppSync, and DynamoDB.

## Features

- **Authentication**: Setup with Amazon Cognito for secure user authentication.
- **API**: Ready-to-use GraphQL endpoint with AWS AppSync.
- **Database**: Real-time database powered by Amazon DynamoDB.

## Deploying to AWS

For detailed instructions on deploying your application, refer to the [deployment section](https://docs.amplify.aws/nextjs/start/quickstart/nextjs-app-router-client-components/#deploy-a-fullstack-app-to-aws) of our documentation.

## Security

See [CONTRIBUTING](CONTRIBUTING.md#security-issue-notifications) for more information.

## License

This library is licensed under the MIT-0 License. See the LICENSE file.


![Screenshot 2024-12-07 at 11 55 53](https://github.com/user-attachments/assets/f7f8fd92-3d03-4b59-bc72-c011113f9be1)
![Screenshot 2024-12-07 at 11 55 19](https://github.com/user-attachments/assets/b1c3f683-a11d-49e7-aaf4-53ffb54b17f3)
![Screenshot 2024-12-07 at 11 54 40](https://github.com/user-attachments/assets/4e976ca4-4bd2-44bb-aabb-49569bc5aa9b)
![Screenshot 2024-12-07 at 11 54 20](https://github.com/user-attachments/assets/c055bb4b-8d21-4575-a965-2a276e2bc35a)
![Screenshot 2024-12-07 at 11 53 59](https://github.com/user-attachments/assets/6bd8b2dc-f54a-4630-8126-ef469f82d0ed)
![Screenshot 2024-12-07 at 11 50 48](https://github.com/user-attachments/assets/a6b46a38-29c9-4ebf-858f-39901fed4ffd)


![Screenshot 2024-12-07 at 13 27 18](https://github.com/user-attachments/assets/8970f17b-4657-4013-b97a-d75ac74d60be)
![Screenshot 2024-12-07 at 13 25 30](https://github.com/user-attachments/assets/138a6788-0dd4-452d-81ec-6507e06c74ed)
![Screenshot 2024-12-07 at 13 25 17](https://github.com/user-attachments/assets/a6ea16bb-20c1-4fb5-b85c-18635382c2fe)
![Screenshot 2024-12-07 at 13 25 08](https://github.com/user-attachments/assets/29a8b4ac-8979-4514-be70-ca92994e1ab9)
![Screenshot 2024-12-07 at 13 24 38](https://github.com/user-attachments/assets/0b41bcaf-2d89-4fff-9f4d-f4722ebaa8fc)
![Screenshot 2024-12-07 at 13 24 28](https://github.com/user-attachments/assets/04888060-1847-43ea-8ded-a8b28a578324)
![Screenshot 2024-12-07 at 13 17 34](https://github.com/user-attachments/assets/95d338d5-84d3-443e-9a9d-bf5e2ae70593)
![Screenshot 2024-12-07 at 11 56 19](https://github.com/user-attachments/assets/a109997a-ab0c-473f-97c2-07584434164f)





![Screenshot 2024-12-07 at 14 40 26](https://github.com/user-attachments/assets/81992e4f-35f5-4d8e-99e2-ad690df0cbaf)
![Screenshot 2024-12-07 at 14 39 05](https://github.com/user-attachments/assets/f450853d-fafb-4b43-98e6-5f2f50da38b0)
![Screenshot 2024-12-07 at 14 37 56](https://github.com/user-attachments/assets/b1cc7891-76e5-4fe1-bbc4-6a60c9a03270)
![Screenshot 2024-12-07 at 14 08 25](https://github.com/user-attachments/assets/32c956b0-108c-4bb3-907a-6808fc503ee1)
![Screenshot 2024-12-07 at 14 06 57](https://github.com/user-attachments/assets/2626bbfc-e992-4744-b62c-13f2e2da3927)
![Screenshot 2024-12-07 at 14 06 01](https://github.com/user-attachments/assets/5cfb4ec9-4208-4859-9cee-f4840781eb78)
![Screenshot 2024-12-07 at 14 05 26](https://github.com/user-attachments/assets/9385404d-2982-4642-ba39-cf6c3ca05645)
![Screenshot 2024-12-07 at 13 39 41](https://github.com/user-attachments/assets/bc8c63a3-f840-472e-b11f-dcb1a54498de)
![Screenshot 2024-12-07 at 13 39 36](https://github.com/user-attachments/assets/5c26b247-3e3d-4f15-8ff2-416c73877859)
![Screenshot 2024-12-07 at 13 34 57](https://github.com/user-attachments/assets/e9f2cab9-fbac-478a-a903-8248f23173ed)
![Screenshot 2024-12-07 at 13 34 00](https://github.com/user-attachments/assets/456ff3b8-487f-4c1c-96e8-09fcbbc88e82)


![Screenshot 2024-12-07 at 14 54 04](https://github.com/user-attachments/assets/c3dc215c-e091-47f1-9367-9ac4d25d897b)
![Screenshot 2024-12-07 at 14 54 40](https://github.com/user-attachments/assets/ba06d9f6-7f60-4602-93af-a081d7ccaec9)
![Screenshot 2024-12-07 at 15 08 40](https://github.com/user-attachments/assets/24026269-59d1-4236-9a55-d4ff14c0f21a)
![Screenshot 2024-12-07 at 15 09 18](https://github.com/user-attachments/assets/4e953634-7e53-4a4e-9cbc-2a29150ca9f4)
![Screenshot 2024-12-07 at 15 10 01](https://github.com/user-attachments/assets/ea7beb89-7e6d-4f04-946c-32203dc63cdb)
![Screenshot 2024-12-07 at 15 12 11](https://github.com/user-attachments/assets/bd4ea250-ab26-442d-be3c-71bb90a05896)
![Screenshot 2024-12-07 at 15 12 41](https://github.com/user-attachments/assets/a92ad374-0755-4483-8060-3579591c5fcd)
![Screenshot 2024-12-07 at 15 13 33](https://github.com/user-attachments/assets/3c42aa14-0efc-4f77-83f1-60b2b80352f4)
![Screenshot 2024-12-07 at 15 22 06](https://github.com/user-attachments/assets/dfb3437c-35d3-4ba7-b401-7b63127708c8)






#### **1. Setting up a new Amplify Project**
- **Image Reference:** _Screenshot showing the Amplify initialization (CLI or UI setup)._
- **Description:** Use the AWS Amplify CLI to initialize the project, ensuring you select the appropriate services for authentication, storage, and GraphQL API.

#### **2. Installing Amplify and Storage UI Libraries**
- **Image Reference:** _Screenshot of the terminal showing the command `npm i @aws-amplify/ui-react-storage aws-amplify`._
- **Description:** This command installs the Amplify library and the storage-specific package required for implementing S3 access and UI components.

#### **3. Adding Authentication to the Application**
- **Image Reference:** _Screenshot of code in `app/page.tsx` where `Authenticator` is imported and integrated._
- **Code Documentation:**
  ```tsx
  import { Authenticator } from '@aws-amplify/ui-react';

  return (
    <Authenticator>
      {({ signOut, user }) => (
        <main>
          <h1>Hello {user?.username}</h1>
          <button onClick={signOut}>Sign out</button>
        </main>
      )}
    </Authenticator>
  );
  ```
- **Explanation:** This code snippet enables authentication, allowing users to log in, view their username, and sign out.

#### **4. Defining S3 Storage Rules**
- **Image Reference:** _Screenshot of `amplify/storage/resource.ts` defining access rules._
- **Code Documentation:**
  ```ts
  import { defineStorage } from '@aws-amplify/backend';

  export const storage = defineStorage({
    name: 'myS3Bucket',
    access: (allow) => ({
      'public/*': [
        allow.guest.to(['read']),
        allow.authenticated.to(['read', 'write', 'delete']),
      ],
      'protected/{entity_id}/*': [
        allow.authenticated.to(['read']),
        allow.entity('identity').to(['read', 'write', 'delete']),
      ],
      'private/{entity_id}/*': [
        allow.entity('identity').to(['read', 'write', 'delete']),
      ],
    }),
  });
  ```
- **Explanation:** Access rules define permissions for different users (guest, authenticated, and private entities).

#### **5. Hooking Up Backend to Storage**
- **Image Reference:** _Screenshot of `amplify/backend.ts` integrating storage with backend services._
- **Code Documentation:**
  ```ts
  import { storage } from './storage/resource';

  defineBackend({
    auth,
    data,
    storage,
  });
  ```
- **Explanation:** This ensures that storage functionality is part of the backend configuration.

#### **6. Implementing the `StorageBrowser` Component**
- **Image Reference:** _Screenshot of `StorageBrowser.tsx` showcasing component creation._
- **Code Documentation:**
  ```tsx
  import React from 'react';
  import { createAmplifyAuthAdapter, createStorageBrowser } from '@aws-amplify/ui-react-storage/browser';
  import '@aws-amplify/ui-react-storage/styles.css';
  import { Amplify } from 'aws-amplify';
  import config from '../amplify_outputs.json';

  Amplify.configure(config);

  export const { StorageBrowser } = createStorageBrowser({
    config: createAmplifyAuthAdapter(),
  });
  ```
- **Explanation:** This creates a UI component for browsing files in the S3 bucket.

#### **7. Integrating the `StorageBrowser` Component in UI**
- **Image Reference:** _Screenshot of the updated `app/page.tsx` showing the `StorageBrowser` component integration._
- **Code Documentation:**
  ```tsx
  import { StorageBrowser } from '../components/StorageBrowser';

  return (
    <Authenticator>
      {({ signOut, user }) => (
        <main>
          <h1>Hello {user?.username}</h1>
          <button onClick={signOut}>Sign out</button>

          <h2>Your Files</h2>
          <StorageBrowser />
        </main>
      )}
    </Authenticator>
  );
  ```
- **Explanation:** Adds the `StorageBrowser` component to display files to the authenticated user.



